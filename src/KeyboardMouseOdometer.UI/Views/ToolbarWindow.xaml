<Window x:Class="KeyboardMouseOdometer.UI.Views.ToolbarWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Keyboard + Mouse Odometer" 
        Height="40" Width="720"
        MinWidth="300" MinHeight="35"
        MaxHeight="150"
        ResizeMode="CanResize"
        WindowStyle="None"
        AllowsTransparency="True"
        ShowInTaskbar="False"
        Background="Transparent"
        Topmost="True">
    
    <WindowChrome.WindowChrome>
        <WindowChrome CaptionHeight="0"
                      ResizeBorderThickness="8"
                      CornerRadius="0"
                      GlassFrameThickness="0"/>
    </WindowChrome.WindowChrome>
    
    <!-- Main container with semi-transparent rounded background -->
    <Border Background="#CC1E1E1E" 
            CornerRadius="8" 
            Margin="5"
            BorderBrush="Transparent"
            BorderThickness="0"
            WindowChrome.IsHitTestVisibleInChrome="True">
        <Border.Effect>
            <DropShadowEffect Color="Black" Direction="270" ShadowDepth="3" Opacity="0.5" BlurRadius="8"/>
        </Border.Effect>
        
        <Grid MinHeight="30">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <!-- Icon and Title -->
            <StackPanel Grid.Column="0" 
                        Orientation="Horizontal" 
                        VerticalAlignment="Center" 
                        Margin="8,0,12,0">
                <Ellipse Width="16" Height="16" Fill="#FF4CAF50" VerticalAlignment="Center"/>
                <TextBlock Text="KM Odometer" 
                           FontSize="12" 
                           FontWeight="SemiBold"
                           FontFamily="Cascadia Code, Consolas, Courier New"
                           Margin="6,0,0,0"
                           VerticalAlignment="Center"
                           Foreground="White"/>
            </StackPanel>

            <!-- Compact Stats Display -->
            <StackPanel Grid.Column="1" 
                        Orientation="Horizontal" 
                        VerticalAlignment="Center" 
                        Margin="0,0,12,0">
                
                <!-- Last Key -->
                <Border Background="#44000000" 
                        BorderBrush="Transparent"
                        BorderThickness="0" 
                        CornerRadius="4" 
                        Padding="6,2,6,2" 
                        Margin="0,0,8,0">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="Key:" 
                                   FontSize="12" 
                                   FontFamily="Cascadia Code, Consolas, Courier New"
                                   Foreground="#CCCCCCCC"
                                   VerticalAlignment="Center"/>
                        <TextBlock Text="{Binding LastKeyPressed}" 
                                   FontSize="12"
                                   FontFamily="Cascadia Code, Consolas, Courier New"
                                   FontWeight="Bold"
                                   MinWidth="20" 
                                   Margin="4,0,0,0"
                                   VerticalAlignment="Center"
                                   Foreground="White"/>
                    </StackPanel>
                </Border>

                <!-- Keys Today -->
                <StackPanel Orientation="Horizontal" Margin="0,0,12,0">
                    <TextBlock Text="Keys:" 
                               FontSize="12" 
                               FontFamily="Cascadia Code, Consolas, Courier New"
                               Foreground="#CCCCCCCC"
                               VerticalAlignment="Center"/>
                    <TextBlock Text="{Binding TodayKeyCount}" 
                               FontSize="12"
                               FontFamily="Cascadia Code, Consolas, Courier New"
                               FontWeight="SemiBold"
                               Margin="4,0,0,0"
                               VerticalAlignment="Center"
                               Foreground="#FF4CAF50"/>
                </StackPanel>

                <!-- Mouse Distance -->
                <StackPanel Orientation="Horizontal" Margin="0,0,12,0">
                    <TextBlock Text="Mouse:" 
                               FontSize="12" 
                               FontFamily="Cascadia Code, Consolas, Courier New"
                               Foreground="#CCCCCCCC"
                               VerticalAlignment="Center"/>
                    <TextBlock Text="{Binding TodayMouseDistance}" 
                               FontSize="12"
                               FontFamily="Cascadia Code, Consolas, Courier New"
                               FontWeight="SemiBold"
                               Margin="4,0,0,0"
                               VerticalAlignment="Center"
                               Foreground="#FF2196F3"/>
                </StackPanel>

                <!-- Scroll Distance -->
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="Scroll:" 
                               FontSize="12" 
                               FontFamily="Cascadia Code, Consolas, Courier New"
                               Foreground="#CCCCCCCC"
                               VerticalAlignment="Center"/>
                    <TextBlock Text="{Binding TodayScrollDistance}" 
                               FontSize="12"
                               FontFamily="Cascadia Code, Consolas, Courier New"
                               FontWeight="SemiBold"
                               Margin="4,0,0,0"
                               VerticalAlignment="Center"
                               Foreground="#FFFF9800"/>
                </StackPanel>
            </StackPanel>

            <!-- Resize Grip -->
            <Grid Grid.Column="2" 
                  Width="16" 
                  Height="16" 
                  Margin="0,0,4,0"
                  VerticalAlignment="Bottom"
                  HorizontalAlignment="Right"
                  WindowChrome.IsHitTestVisibleInChrome="True">
                <Path Data="M 0,8 L 8,0 M 4,8 L 8,4 M 8,8 L 8,8" 
                      Stroke="White" 
                      StrokeThickness="1" 
                      Opacity="0.5"/>
            </Grid>
        </Grid>
    </Border>
</Window>